---
title: CHAPTER4. 액션에서 계산 빼내기
date: 2023-03-09 18:03:89
category: 쏙쏙 들어오는 함수형 코딩
tags: []
draft: true
---

## 이번 장에서 살펴볼 내용

- 어떻게 함수로 정보가 들어가고 나오는지 살펴봅니다.
- 테스트하기 쉽고 재사용성이 좋은 코드를 만들기 위한 함수형 기술에 대해 알아봅시다.
- 액션에서 계싼을 빼내는 방법을 배웁니다.

<!-- p.68 -->

## 함수에는 입력과 출력이 있습니다.

- 함수에 암묵적 입력과 출력이 있으면 액션이 됩니다.
- 함수에서 암묵적 입력과 출력을 없애면 계산이 됩니다.
- 암묵적 입력은 함수의 인자로 바꾸고, 암묵적 출력은 함수의 리턴값으로 바꾸면 됩니다.
- 함수형 프로그래머는 암묵적 입력과 출력을 `부수 효과`라고 부릅니다.
  - 부수효과는 함수가 하려고 하는 주요 기능(리턴값을 계산하는 일)이 아닙니다.

<!-- 끝 -->

### 입출력의 종류

- 명시적 입력: 인자
- 암묵적 입력: 인자 외 다른 입력(전역변수)
- 명시적 출력: 리턴값
- 암시적 출력: 리턴값 외 다른 출력(전역변수 업데이터, console.log)

## 테스트와 재사용성은 입출력과 관련 있습니다.

### 재사용하기 쉽게 만들기

- DOM 업데이트와 비즈니스 규칙은 분리되어야 합니다.
  - DOM을 업데이트 하는 일은 함수에서 어떤 정보가 나오는 것이기 때문에 출력입니다. 하지만 리턴값이 아니기 때문에 암묵적 출력입니다.
- 전역 변수가 없어야 합니다.
  - 전역변수를 읽는 것은 암묵적 입력이고 바꾸는 것은 암묵적 출력입니다.
- 함수가 결과값을 리턴해야 합니다.
  - 암묵적인 출력 대신 명시적인 출력을 사용해야 합니다.

### 서브루틴 추출하기(extract subroutine) or 함수 추출하기

- 기존 코드에서 동작은 바뀌지 않고 로직을 함수로 분리해 내는 것입니다.

### 카피-온-라이트(copy-on-write)

- 어떤 값을 바꿀 때 그 값을 복사해서 바꾸는 방법은 불변성을 구현하는 방법 중 하나입니다.

<!-- p.77 -->

## 쉬는 시간

- 코드가 더 적어야 좋은게 아닌가요?
  - 길어지긴 했지만, 테스트하기 쉬워졌고 재사용하기 좋아졌습니다. 또한, 테스트 코드는 더 짧아졌습니다.
- 재사용성을 높이고 테스트할 수 있는 것이 함수형 프로그래밍으로 얻을 수 있는 전부인가요?
  - 동시성이나 설계, 데이터 모델링 측면에서 좋은 점들도 배우게 됩니다. 이 외에도 많은 장점들이 있습니다.
- 다른 곳에서 쓰지 않더라도 계산으로 분리하는 것이 중요한가요?
  - 함수형 프로그래밍의 목적 중에 어떤 것을 분리해서 더 작게 만들려고 하는 것도 있습니다. 작은 것은 테스트하기 쉽고 재사용하기 쉽고 이해하기 쉽습니다.

<!-- 끝 -->

## 요점 정리

- 액션은 암묵적인 입력 또는 출력을 가지고 있습니다.
- 계산의 정의에 따르면 계산은 암묵적인 입력이나 출력이 없어야 합니다.
- 공유 변수(전역 번수 같은)는 읿나적으로 암묵적 입력 또는 출력이 됩니다.
- 암묵적 입력은 인자로 바꿀 수 있습니다.
- 암묵적 출력은 리턴값으로 바꿀 수 있습니다.
- 함수형 원칙을 적용하면 액션은 줄어들고 계산은 늘어난다는 것을 확인했습니다.

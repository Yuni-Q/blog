---
title: 2장 서브타입에 의한 다형성
date: 2024-07-15 00:07:15
category: 타입으로 견고하게 다형성으로 유연하게
tags: []
draft: true
---

## 2.1 객체와 서브타입

- 서브타입은 "A는 B다"라는 타입 사이의 관계다. 서브타입에 반대되는 의미로서 슈퍼타입이라는 용어를 사용한다.
- A가 B의 서브타입일 때 A 타입의 부품을 B 타입의 부품으로도 간주할 수 있게 하는 기능이 서브타입에 의한 다형성이다.
  - B 타입의 부품이 요구되는 자리에 A 타입의 부품이 오더라도 타입 검사기가 문제 삼지 않는 것이다.
- 서브탕비에 의한 다형성을 '반대 방향'으로 적용할 수 없다.

### 이름에 의한 서브타입

- 타입 검사기는 타입이 보여주는 클래스의 이름과 클래스 사이의 상속 관계만 고려한다.

  - 해당 클래스에 어떤 필드와 메서드가 있는지는 전혀 신경 쓰지 않는다.
  - 클래스 A가 클래스 B를 상속한다면 A가 B의 서브타입이다. 여기서 상속은 직접 상속과 간접 상속을 모두 포함한다.

### 구조에 의한 서브타입

- 이미 정의된 클래스를 수정할 수 없는 경우에는 이름에 의한 서브타입만으로는 부족할 수 있다.
- 구조에 의한 서브타입을 사용하는 경우, 타입 검사기는 클래스 사이의 상속 관계 대신 클래스의 구조, 즉 각 클래스에 어떤 필드와 메서드가 있는지 고려한다.
- 클래스 A가 클래스 B에 정의된 필드와 메서드를 모두 정의한다면 A는 B의 서브타입이다.
- 구조를 드러내는 타입

```ts
const sendEmail = (person: { email: string }): void => {
  let email: string = person.email;
};
sendEmail(st);
```

### 추상 메서드

- 추상 메서드는 정말로 메서드를 정의하지는 안되 '이 클래스를 상속하려면 특정 메서드를 반드시 정의해야 한다'는 사실을 표현하는 것이다.
- 추상 메서드는 몸통 없이 이름, 매개변수 타입, 결과 타입만 작성된 메서드다(매개변수 이름도 같이 적혀 있기는 하지만 별로 중요한 역할을 하지 않는다).
  - 이 셋을 묶어 메서드의 시그니처라고 부른다.
- 추상 메서드를 가지는 대신 객체를 직접 만들 수 없는 클래스를 추상 클래스라 부른다.
- 추상 클래스를 만드는 목적은 언제나 메서드의 존재에 관한 정보를 타입 검사기에 제공하려는 것이다.
- 언어가 구조에 의한 서브타입을 제공한다면 추상 메서드의 필요성이 다소 줄어든다.

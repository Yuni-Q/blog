---
title: 타입스크립트의 오버로드
date: 2021-08-14 01:08:02
category: javascript
tags: []
draft: true
---

## 오버로드

- C나 Java같은 정적 타입 언어의 경우, 매개변수의 갯수와 타입에 따라서 정적으로 여러 개의 함수를 구현할 수 있습니다. 하지만 JavaScript는 하나의 함수 내부에서 `타입 검사`를 해서 동적으로 오버로딩을 구현할 수 있습니다.
- TypeScript의 경우, 오버로딩이 불가능하지는 않지만 그 방식은 정적 타입 언어인 C나 Java보다는 동적 타입언어인 JavaScript와 유사합니다. 다른 인자를 받는 여러 개의 함수를 구현하는 것이 아니라, 하나의 함수에서 인자의 타입이나 갯수에 따라 여러 분기를 태우는 것입니다.
- 일단 TypeScript는 함수에 정해진 타입과 정해진 수의 인자를 넘기지 않으면 에러를 발생시키므로 함수를 선언할 때 어느정도의 유연성을 확보해야 오버로딩을 구현할 수 있습니다. 인자 갯수의 유연성을 확보하는 것이 바로 `Optional Parameter` 입니다.

```ts
type SAdd = (a: string, b: string) => string;
type NAdd = (a: number, b: number) => number;

const add: SAdd & NAdd = (a: any, b: any) => a + b;

add('2', '3');
add(2, 3);

add('2', 3);
/**
이 호출과 일치하는 오버로드가 없습니다.
  오버로드 1/2('(a: string, b: string): string')에서 다음 오류가 발생했습니다.
    'number' 형식의 인수는 'string' 형식의 매개 변수에 할당될 수 없습니다.
  오버로드 2/2('(a: number, b: number): number')에서 다음 오류가 발생했습니다.
    'string' 형식의 인수는 'number' 형식의 매개 변수에 할당될 수 없습니다.ts(2769)
*/

// .JS
const add = (a, b) => a + b;

// .D.TS
declare type SAdd = (a: string, b: string) => string;
declare type NAdd = (a: number, b: number) => number;
declare const add: SAdd & NAdd;
```

```ts
function add(a: string, b: string): string;
function add(a: number, b: number): number;
function add(a: any, b: any) {
  return a + b;
}

add('2', '3');
add(2, 3);

add('2', 3);
/**
이 호출과 일치하는 오버로드가 없습니다.
  오버로드 1/2('(a: string, b: string): string')에서 다음 오류가 발생했습니다.
    'number' 형식의 인수는 'string' 형식의 매개 변수에 할당될 수 없습니다.
  오버로드 2/2('(a: number, b: number): number')에서 다음 오류가 발생했습니다.
    'string' 형식의 인수는 'number' 형식의 매개 변수에 할당될 수 없습니다.ts(2769)
a.ts(3, 10): 이 구현에 대한 호출이 성공하겠지만, 오버로드의 구현 시그니처는 외부에 표시되지 않습니다.
*/

// .JS
function add(a, b) {
  return a + b;
}

// .D.TS
declare function add(a: string, b: string): string;
declare function add(a: number, b: number): number;
```

## 함수 선언식 vs 함수 표현식

### 함수 선언식 - Function Declarations

- 일반적인 프로그래밍 언어에서의 함수 선언과 비슷한 형식입니다.

```js
function 함수명() {
  // 구현 로직
}
```

### 함수 표현식 - Function Expressions

- 유연한 자바스크립트 언어의 특징을 활용한 선언 방식입니다.

```js
var 함수명 = function () {
  // 구현 로직
};
```

### 함수 선언식과 표현식의 차이점

#### 호이스팅

- 함수 선언식은 `호이스팅`에 영향을 받지만, 함수 표현식은 호이스팅에 영향을 받지 않습니다.
- 함수 선언식은 코드를 구현한 위치와 관계없이 자바스크립트의 특징인 호이스팅에 따라 브라우저가 자바스크립트를 해석할 때 맨 위로 끌어 올려집니다.
- 함수 표현식에서 변수 선언도 호이스팅이 적용되어 위치가 상단으로 끌어올려집니다. 하지만 function 로직은 호출된 이후에 선언됩니다.

### 함수 표현식의 장점

- 클로져로 사용
- 콜백으로 사용 (다른 함수의 인자로 넘길 수 있습니다)

## 결론

- 함수 표현식이 선언식에 비해 가지는 장점이 많지만, 결국에는 이러한 차이점을 인지한 상태에서 일관된 코딩 컨벤션으로 코드를 작성하는 게 중요하다는 생각이 듭니다.

---

## 참고

- [함수 표현식 vs 함수 선언식](https://joshua1988.github.io/web-development/javascript/function-expressions-vs-declarations/)

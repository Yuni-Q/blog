---
title: 프로그래밍 패러다임
date: 2020-03-18 12:03:12
category: develop
draft: false
---

## 명령형과 선언형의 차이

### 명령형 프로그래밍

- 명령형 프로그래밍이란 프로그래밍의 상태와 상태를 변경시키는 구문의 관점에서 연산을 설명하는 방식입니다.
- 알고리즘을 명시하고 목표는 명시하지 않습니다.
- 프로그램은 명령의 수행입니다.
- 어떻게(how to)에 초점을 맞춥니다.
- 튜링 머신에 이론적 배경을 둡니다.

### 선언형 프로그래밍

- 선언형 프로그래밍은 어떤 방법으로 해야하는지 나타내기보다는 무엇과 같은지를 설명하는 방식입니다.
- 알고리즘을 명시하지 않고 목표만 명시합니다.
- 프로그램은 함수의 계산입니다.
- 무엇(what)에 초점을 맞춥니다.
- 람다 계산식에 이룬적 배경을 둡니다.

## 절차적 프로그래밍과 객체지향 프로그래밍

### 절차적 프로그래밍(Procedural Programming)

- 절차적으로 실행하는 프로그래밍이, 위에서 아래로 순서대로 실행하게 만드는 프로그래밍이라고 이해하기 쉬운데, 사실 모든 프로그래밍은 순서대로 실행됩니다.
- 번역의 오류로 온 오개념인데, Procedural은 절차를 뜻하는 것이 아니라 절차형 프로그래밍에서 프로시저 호출의 개념을 바탕으로 하고 있기 때문에 여기서 Procedural이란 프로스의 Procedure을 의미합니다.
- 프로시저는 루틴이나 하위프로그램, 메서드, 함수형 프로그래밍의 함수와도 같은 의미를 지니고 있는데, 리턴이 없는 함수 정도로 이해하면 좋습니다.
- 모든 처리가 하나의 클래스 안에 위치하고 나머지 클래스는 단지 데이터의 역할만 수행합니다.

### 객체지향 프로그래밍(Object Oriented Programing)

- 프로그래밍에서 필요한 데이터를 추상화시켜 상태와 행위를 가진 객체를 만들고 그 객체들 간이ㅡ 유기적인 상호작용을 통해 로직을 구성하는 프로그래밍입니다.
- 객체지향 프로그래밍을 하기 위해서 `내적동질성`과 `대체가능성`을 지원해야 합니다.
  - 대체가능성은 부모의 타입을 자식 타입이 대신 할 수 있는 것입니다.
  - 내적 동질성은 상위의 메소드에서 다른 메소드를 부를 때 현재 객체가 오버라이드 했다면 현재 객체의 메소드를 부르게 되는 것입니다.
- 객체지향 프로그래밍을 하다보면 결합도와 자율성을 모두 만족시킬 방법이 잘 떠오르지 않는 트레이드오프 시점일 올 수 있습니다. 이 경우 자율성과 결합도 중에 하나를 선택해야 합니다.
- 훌륭한 객체지향 설계란 협력하는 객체 사이의 의존성을 적절하게 관리하는 설계입니다. 세상에 객체가 실행되는 주변 환경에 강하게 결합될수록 변경하기 어려워집니다. 객체 간의 의존성은 애플리케이션을 수정하기 어렵게 만드는 주범입니다.
- 데이터와 프로세스를 하나의 덩어리로 모으는 것은 훌륭한 객체지향 설계로 가는 첫걸음일 뿐입니다.
- 진정한 객체지향 설계로 나아가는 길은 협력하는 객체들 사이의 의존성을 적절하게 조절함으로써 변경이 용이한 설계를 만드는 것입니다.

#### 객체지향 프로그래밍의 장점, 단점

##### 장점

- 캡슐화로 코드의 재사용성이 높습니다.
- 코드의 변경이 용이합니다.
- 직관적인 코드분석이 가능합니다.
- 개발속도가 향상됩니다.
- 상속을 통한 장점이 극대화 됩니다.

##### 단점

- 처리속도가 상대적으로 느립니다.
- 객체가 많으면 용량이 커질 수 있습니다.
- 설계 시 상대적으로 많은 시간이 필요합니다.

#### 객체지향 프로그래밍의 특징

1. 추상화

- 객체들의 공통적인 속성과 기능을 뽑아내는 작업, 즉 우리가 구현하는 객체들이 가진 공통적인 데이터와 기능을 묶어 이름을 붙이는 것을 말합니다.

2. 캡슐화

- 관련된 데이터와 함수들을 클래스라는 하나의 '캡슐' 속에 그룹화시켜주는 것으로 외부에는 실제 구현 내요을 감춥니다.
  - 기능과 특성별로 한 곳에 모으고 분류하기 때문에 언제든지 쉽게 불러올 수 있는 재상용성
  - 외부에서는 '추상적인 것'으로 보이기에 정보 은닉화

3. 상속

- 상위 클래스의 데이터와 함수를 하위클래스가 물려받는 것을 말합니다. 하나의 클래스가 가지고 있는 데이터와 함수를 그대로 다른 클래스가 물려주고자 할 때 이를 이용합니다.
- 상속 받은 것을 자식클래스에서 다시 재정의(오버라이딩)해서 사용하는 다형성과도 이어져 있습니다.

4. 다형성

- 하나의 클래스 내부에 같은 이름의 기능을 여러 개 정의하거나, 상위 클래스의 하위 클래스에서 다시 정할 수 있습니다.
  - 오버라이딩 : 부모클래스의 메서드오 같은 이름, 매개변수를 재정의 하는 것입니다.
  - 오버로딩 : 같은 이름의 함수를 여러개 정의하고, 매개변수의 타입과 개수를 다르게 하여 매개변수에 따라 다르게 호출할 수 있게 하는 것입니다.

## 함수형 프로그래밍

- 명령형 프로그래밍입니다.
- 함수형 프로그래밍은 기존(일상 생활에 대응하기 위한 방법론과 패러다임)과 전혀 다른 사고방식이라는 것을 우선적으로 인지하고 받아 들여야 합니다.
- 모든 데이터는 불변상태(Immutable) 입니다.
  - 함수형 프로그래밍에서는 데이터가 변할 수 없는데, 이를 불변성 데이터라고 합니다. 데이터 변경이 필요한 경우, 원본 데이터 구조를 변경하지 않고 그 데이터를 복사본을 만들어 그 일부를 변경하고, 변경한 복사본을 사용해 작업을 진행합니다.
- 함수는 순수 함수로 만듭니다.
  - 순수 함수란 동일 입력에 항상 값은 값을 반환해야하며 프로그램의 실행에 영향을 미치지 않는 함수(다른 말로 side effect가 없어야 한다는 것입니다.)를 뜻합니다.
- 루프보다는 재귀를 사용합니다.
  - for나 while 같은 루프보다는 함수안에 함수를 호출하는 재귀호출을 사용하는 방법을 사용합니다.
- 코드를 간결하게 하고 가독성을 높여 로직에 집중시켜야 합니다.
  - 람다식이나 Collection과 같은 API를 통해 가독성을 높입니다.

## 고민

- 리액트에서 함수형 컴포넌트도 추상화 된 클래스처럼 구현을 강제할 수 있는가?
  - 리액트를 사용하면서 리액트가 hooks를 발표하며 클래스 컴포넌트를 지양하고 함수형 컴포넌트 지향할 것을 권고합니다. 함수형 컴포넌트는 hooks에 의해 많은 발전을 해서 유용하지만 타입스크립과 클래스 컴포넌트를 함께 사용해 추상화를 통한 형식에 강제를 대신 할 방법은 아직 찾지 못했습니다. 무작정 최신 것만이 좋다고 생각하여 모든 것을 함수형 컴포넌트로 사용하고 싶었지만 회사에서 타입스크립트와 클래스 컴포넌트를 매우 유용하고 적절하게 사용하는 것을 보고 많은 생각을 하게 되었습니다. 자바스크립트(리액트)를 한다는 이유로 객체지향을 제대로 이해하지 못하고 좋은 것만 따라가려고 했기 때문에 문제가 많이 있었습니다. 우선 객체지향에 대해 조금 더 이해력을 높인 다음 함수형 프로그래밍에서 그것을 대체할 수 있는지에 대해 알아보는 것이 목표입니다.

## 관점 지향 프로그래밍(Aspect Oriented Programming)

- 기능별로 class를 분리했음에도 불구하고 생기는 중복코드의 단점을 해결하고자 나온 방식, 공통기능과 핵심부분을 분리하여, 필요할 때에만 공통기능을 핵심부위에 넣어주는 방식입니다.
- 횡단 분할 기법(seperation of cross-cutting concerns)을 사용함으로써 모듈성을 증가시키는 것이 목적인 프로그래밍 패러다임 입니다.
- 공통 모듈(보안 인증, 로깅 같은 요소 등)을 만든 후에 코드 밖에서 이 모듈을 비즈니스 로직에 삽입하는 것이 바로 AOP 적인 개발입니다. 코드 밖에서 설정된다는 것이 핵심입니다.

### AOP의 주요 개념

- Aspect(에스팩트) : 부가기능 모듈을 에스펙트라고 부릅니다. 핵심기능에 부가되어 의미를 갖는 특별한 모듈입니다.
- Target(타겟) : 부가기능을 부여할 대상을 이야기 합니다.
- Advice(어드바이스) : 실질적으로 부가기능을 담은 구현체를 이야기 합니다.
- JoinPoint(조인포인트) : Advice가 적용될 위치, 다른 AOP 프레임워크와 달리 Spring에서는 메소드 조인포인트만 제공합니다.
- PointCut(포인트컷): JoinPoint의 상세한 스펙을 정의함으로써 Advice가 실행될 지점을 정할 수 있습니다.

### AOP가 사용되는 경우

1. 간단한 메소드 성능 검사
2. 트랜잭션 처리
3. 예외 반환
4. 아키텍처 검증

- 하이버 네티스와 JDBC를 같이 사용할 경우, DB 동기화 문제 해결
- 멀티쓰레드 Safety 관련하여 작업해야 하는 경우, 메소드들에 일괄적으로 락을 설정하는 애스팩트
- 데드락 등으로 인한 PessimisticLockingFailureException등의 예외를 만났을 때 재시도하는 애스팩트
- 로깅, 인증, 권한 등

## 참조

- [오브젝트](http://mobile.kyobobook.co.kr/showcase/book/KOR/9791158391409?orderClick=Ow1)
- [객체 지향 프로그래밍이란 무엇인가](https://blog.metafor.kr/141)
- [관점 지향 프로그래밍 AOP](https://blog.metafor.kr/142)

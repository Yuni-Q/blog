---
title: 크롤링
date: 2020-04-03 01:04:48
category: frontend
draft: false
---

```javascript
const axios = require('axios');
const cheerio = require('cheerio');

export const getHtml = async () => {
	try {
		return await axios.get(
			'https://namu.wiki/w/%EB%8F%99%EB%AC%BC%EC%9D%98%20%EC%88%B2%20%EC%8B%9C%EB%A6%AC%EC%A6%88/%EB%93%B1%EC%9E%A5%20%EC%A3%BC%EB%AF%BC%20%EC%9D%BC%EB%9E%8C'
		);
	} catch (error) {
		console.error(error);
	}
};
export const get = async () => {
	const html = await getHtml();
	let ulList = [];
	const $ = cheerio.load(html.data);
	const $bodyList = $('tbody').children('tr');

	$bodyList.each(function(i, elem) {
		ulList[i] = {
			title: $(this)
				.find('td:nth-child(3)')
				.text(),
			gender: $(this)
				.find('td:nth-child(4)')
				.text(),
			birthday: $(this)
				.find('td:nth-child(5)')
				.text(),
			character: $(this)
				.find('td:nth-child(6)')
				.text(),
		};

		const data = ulList.filter(n => n.title);
		return data;
	});
	return ulList;
};
```

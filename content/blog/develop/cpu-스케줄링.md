---
title: CPU 스케줄링
date: 2020-04-16 10:04:32
category: develop
draft: true
---

- 스케줄러란 CPU와 같은 자원을 우선순위에 기반하여 프로세스에 할당하는 방법을 말합니다.

- Job Queue : 현재 시스템 안에서 돌고 있는 프로세스의 집합 입니다.
- Ready Queue : 메모리 안에서 CPU의 할당을 기다리는 프로세스의 집합 입니다.
- Device Queue : 장치 입출력을 기다리고 있는 프로세스의 집합 입니다.

## 스케줄러의 종류 세 가지

### 장기 스케줄러 (잡 스케줄러)

- 프로세스가 한꺼번에 많이 올라올 시, 메모리와 디스크 사이에서 메모리에, Ready Queue에 어떤 걸 집어넣을지 결정 합니다.

### 단기 스케줄러 (CPU 스케줄러)

- CPU와 메모리 사이에서 Ready Queue에 있는 프로세스 중 어떤 것을 CPU 할당을 받게 할지 스케줄링 합니다.

### 중기 스케줄러 (Swapper)

- 여유공간 부족 시 공간을 만들기 위해 메모리에서 쫓아내어 디스크로 옮깁니다, 동시에 메모리가 많이 올라가는 것을 조절 합니다.

## CPU 스케줄링 방법

- 스케줄링 대상은 Ready Queue에 있는 프로세스 대상입니다.

### FCFS (First Come First Served)

- 먼저 온 녀석이 먼저 스케줄링을 받습니다. 중간에 반환하지 않는 비선점형이며, 시간이 긴 프로세스가 먼저 오면 효율성이 떨어집니다.

### SJF (Short Job First)

- 늦게 오더라도 수행시간이 짧은 프로세스에 먼저 할당. 이렇게 되면 수행시간이 긴 프로세스는 영원히 할당받지 못할 수도 있습니다.(Starvation) 수행시간(CPU Burst Time)은 알지는 못하고 예측만 가능 합니다.

### SRT (Short Remaining Time)

- 현재 프로세스의 수행시간이 끝나는 시간보다 나중에 오는 프로세스의 수행시간 완료 시간이 더 짧다면, 그 즉시 그 프로세스에게 CPU를 할당합니다. 선점형 스케줄링 입니다. Starvation과 CPU 수행 시간을 측정할 수 없다는 문제가 있습니다.

### 우선순위

- 정수로 표현된 우선순위가 더 높은 프로세스에게 할당합니다. 선점형 방식과 비선점형 방식으로 나눌 수 있는데, 선점형 방식은 우선순위가 높은 프로세스가 도달하면 그 즉시 그 프로세스에게 CPU를 할당 합니다. 비선점형 방식은 Ready Queue의 맨 앞에 그 프로세스를 등록 합니다. Starvation과 CPU를 사용못하는 프로세스를 CPU가 무한 대기하는 상태가 있을 수 있습니다. 오래 기다렸을 경우 우선순위를 높이는 Aging을 통해 해결 가능합니다.

### Round Robin

- 현대적인 CPU 스케줄링으로, 각 프로세스는 동일한 CPU 할당 시간을 갖게 됩니다. 할당시간 만료시 ready queue 맨 뒤에 가서 줄을 섭니다. CPU의 사용시간이 제각각일 때 효율적 입니다. 반응 속도가 빨라지며, 공정한 스케줄링이 가능합니다. 주의할 점은 할당하는 시간(time quantum)이 너무 길다면 FCFS와 다를게 없습니다. 너무 작다면 잦은 컨텍스트 스위칭이 발생 합니다.

## 참고

- [기술면접 준비하기](https://velog.io/@hygoogi/%EA%B8%B0%EC%88%A0%EB%A9%B4%EC%A0%91-%EC%A4%80%EB%B9%84%ED%95%98%EA%B8%B0)

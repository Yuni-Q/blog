---
title: CHAPTER 04 - 테스트 구축하기
date: 2021-07-03 01:07:30
category: 리팩토링 2판
tags: []
draft: true
---

## 자가 테스트 코드의 가치

- 모든 테스트를 완전히 자동화하고 그 결과까지 스스로 검사하게 만듭니다.
- 테스트 스위트는 강력한 버그 검출도구로, 버그를 찾는 데 걸리는 시간을 대폭 줄여줍니다.

## 테스트할 샘플 코드

- 실패해야 할 상황에서는 반드시 실패하게 만들어야 합니다.
- 자주 테스트해야 합니다. 작성 중인 코드는 최소한 몇 분 간격으로 테스트하고, 적어도 하루에 한 번은 전체 테스트를 돌려봐야 합니다.

## 테스트 추가하기

- 테스트는 위험 요인을 중심으로 작성해야 합니다.
- 완벽하게 만드느라 테스트를 수행하지 못하느니, 불완전한 테스트라도 작성해 실행하는 게 좋습니다.
- 중복 로직은 beforeEach로 처리합니다. 공통 부분을 상위로 분리만 할 경우 값이 오염 될 수 있습니다.

## 픽스처 수정하기

## 경계 조건 검사하기

- 문제가 생길 가능성이 있는 경계 조건을 생각해보고 그 부분을 집중적으로 테스트합니다.
- 어차피 모든 버그를 잡아낼 수는 없다고 생각하여 테스트를 작성하지 않는다면 대다수의 버그를 잡을 수 있는 기회를 날리는 셈입니다.

## 끝나지 않는 여정

- 테스트는 리팩터링에 반드시 필요한 토대일 뿐만 아니라, 그 자체로도 프로그래밍에 중요한 역할을 합니다.
- 테스트 용이성(testability)을 아키텍처 평가 기준으로 활용하는 사례도 많습니다.
- 버그 리포트를 받으면 가장 먼저 그 버그를 드러내는 단위 테스트부터 작성합니다.

---
title: 테스트 코드도 이해하기 쉽게 작성하자
date: 2020-05-01 11:05:40
category: 실용주의 프론트 엔드 개발
draft: false
---

- 테스트 코드가 읽기 쉬워야 한다는 점은 테스트와 상관없는 실제 코드와 마찬가지로 중요합니다.
- 다른 프로그래머는 종종 테스트 코드를 실제 코드가 어떻게 동작하며 어떻게 사용되어야 하는지에 관한 비공식적인 문서라고 생각합니다.
- 테스트 코드가 읽기 쉬우면, 사용자는 실제 코드가 어떻게 동작하는 지 그만큼 더 쉽게 이해할 수 있습니다.
- 일반적인 설계 원리를 따르면 덜 중요한 세부 사항은 사용자가 볼 필요 없게 숨겨서 더 중요한 내용이 눈에 잘 띄게 해야 합니다.

## TDD

- 테스트 코드 작성
- 테스트 실행
- 개발 코드 작성
- 테스트 실행 및 반복
- 테스트 통과시 리펙토링
- 이러한 작업들을 반복해 본질적으로 필요한 코드만 작성하고 코드의 신뢰성을 높이는 데 포커스된 개발 방법론 입니다.

## BDD

- TDD의 단점은 코드 관점으로 테스트를 작성하여 코드 수정 시 불필요한 테스트 코드 수정사항이 발생합니다. 이러한 상황을 해결하기 위해 BDD 방밥론이 나왔는 데 사용자 시나리오 관점으로 suite를 작성합니다.
- 사용자 관점에서 기능 단위로 작성하며 개발 코드 변경시 테스트 코드가 변경되지 않도록 행동 단위로 작성합니다.
- 기본적으로 테스트 코드 작성 순서는 아래와 같이 합니다.
  - Feature : 테스트에 대상의 기능/책임을 명시합니다.
  - Scenario : 테스트 목적에 대한 상황을 설명합니다.
  - Given : 시나리오 진행에 필요한 값을 설정합니다.
  - When : 시나리오를 진행하는데 필요한 조건을 명시합니다.
  - Then : 시나리오를 완료했을 때 보장해야 하는 결과를 명시합니다.

## 명세 기반 테스트 기법 종류

- 테스트 기법을 정확히 알고 있어야 원하는 테스트와 테스트 코드의 목적을 명확히 할 수 있습니다.
- 테스트 코드에는 테스트 기법 하나씩 사용하여 읽기 쉬운 코드를 만들도록 해야 합니다.

### 1. 동등분할

- 테스트 대상 데이터의 구간을 일정 간격으로 분할하여 케이스를 구성합니다.
- 보통 데이터의 구간에 중간값을 대표값으로 사용합니다.

### 2. 경계값 분석

- 분기 또는 반복 구문의 경계 값을 기준으로 케이스를 구성합니다.
- min, min+, normal, max-, max 다섯 경우의 케이스로 구성합니다.

### 3. 결정 테이블

- 조건(입력 값)과 행위(결과 값)를 테이블로 구성하여 케이스 및 절차를 구성합니다.
- 프로세스 수행 중 요구되는 결정 또는 조건과 프로세스와 관련된 모든 동작을 기술합니다.

### 4. 조합

- 테스트하는 데 필요한 값이 다른 파라미터의 값과 최소한 한 번씩은 조합을하여 케이스를 구성합니다.
- 대부분의 결함이 두 개 요소의 상호작용에 기인한다는 것에 착안하여, 두 개 요소의 모든 조합을 다룹니다.

### 5. 상태전이

- 시스템의 각 상태를 중심으로 케이스를 도출하고 전이 상태를 절차로 구성합니다.
- 객체의 상태를 구분하고 이벤트에 의해 어느 한 상태에서 다른 상태로 전이되는 경우의 수를 테스트 케이스로 구성합니다.
- 상태 머신을 사용하는 UI 컴포넌트 테스트 시 유용합니다.

## 참고

- [테스트 코드도 이해하기 쉽게 작성하자](https://peter-cho.gitbook.io/book/6/6_2)

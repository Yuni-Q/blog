---
title: factory
date: 2021-01-30 23:01:25
category: design pattern
tags: []
draft: true
---

## 팩토리 패턴은 생성과 관련된 디자인 패턴입니다.

- 팩토리 메서드 패턴을 이용하여 객체 생성에 대해 쉽게 관리를 하고, 관리가 비대해지면 추상 팩토리 패턴을 이용해 팩토리 메서드로 생성하는 객체를 한 곳에 모아서 객체로 만들어 관리할 수 있습니다.
- 하나의 클래스나 객체를 생성하는데 쓰이며, 주요로 사용되는 것은 추상 팩토리와 팩토리 매서드 패턴이 있습니다.

## 팩토리 메서드 패턴

- 팩토리 메서드는 부모 클래스에서 타입에 따라 클래스를 생성하는 방법입니다. 자식 클래스를 생성하는 상황에서 부모 클래스의 팩토리를 호출하여 생성해주는 방식으로 처리하며, 이러한 방법의 장점은 자식 클래스 생성에 대해 파편화를 막아주며, 자식 클래스가 늘어나는 상황에서 효과적으로 코드 수정을 할 수 있게 도와줍니다.
- 객체 생성을 팩토리 클래스로 위임하므로써 팩토리 클래스에서 객체를 생성합니다.

## 추상 팩토리 패턴

- 추상 팩토리 패턴은 객체의 집합을 만들때 사용합니다. 관련이 있는 객체를 묶어 하나의 팩토리 클래스로 만든 후, 팩토리를 조건에 따라서 생성하도록 팩토리를 다시 만들어 객체를 생성합니다.

## 잘못 생각하고 있었던 점

### 생성하는 것만 래핑하면 되는 것인가?

- 디자인 시스템을 이해하는데는 인칭(화자)를 명확히 하는 것이 중요합니다.
- 팩토리의 경우 input 값을 통해 객체를 return 해 주는 것이 핵심입니다. 객체를 생성해서 내부의 배열로서 관리하는 것은 팩토리 패턴이 아닙니다.
- 게임에서 몬스터를 잡으면 아이템이 나오는데 그 종류는 정해져 있을 것이고 그 확률은 팩토리가 관리할 것입니다. 하지만 팩토리가 만든 아이템은 유저가 가져갈 것입니다. 유저는 어떤 몹을 잡았는지 팩토리에게 알려주고 팩토리가 반환해 주는 아이템을 선택적으로 가져갈 것입니다.

## 참고

- [TypeScript 디자인 패턴 - 팩토리 패턴](https://vallista.kr/2020/05/05/TypeScript-%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4-%ED%8C%A9%ED%86%A0%EB%A6%AC-%ED%8C%A8%ED%84%B4/)

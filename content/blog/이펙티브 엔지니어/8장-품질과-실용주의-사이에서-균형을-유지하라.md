---
title: 8장 품질과 실용주의 사이에서 균형을 유지하라
date: 2024-04-11 00:04:94
category: 이펙티브 엔지니어
tags: ['Part3 장기적인 가치를 구축하라']
draft: true
---

- 소프트웨어의 품질은 결국 균형의 문제로 귀결된다. 어떻게 해야 한다고 규정된 하나의 보편적인 원칙은 존재하지 않는다.
- 목표 달성에 도움이 되는지의 관점에서 생각하는 실용주의는 품질에 관해 추론하는 데 더 효과적인 렌즈다.

## 지속 가능한 코드 리뷰 프로세스를 만들어라

- 코드 리뷰가 효과를 내는 적절한 균형을 실험을 통해 찾아보라.

### 코드 리뷰가 개발자에게 제공하는 명확한 혜택

- 설계 결함이나 버그를 초기에 포착한다.
- 코드 변경사항에 대한 책임감이 강해진다.
- 좋은 코드 작성법을 배우는 모델로써 도움이 된다.
- 코드베이스에 관한 실용적 지식을 공유한다.
- 장기적인 작업 속도가 향상된다.

## 추상화를 통해 복잡성을 관리하라

- 올바른 추상화는 엔지니어링 생산성을 크게 향상시킨다.
- 좋은 추상화는 복잡하게 꼬인 개념을 단순하게 풀어준다.
- 다른 사람의 추상화를 연구해서 좋은 추상화를 만드는 방법을 배워라.

### 추상화가 엔지니어링 생상성을 어떻게 높이는가?

- 원래 문제의 복잡성을 이해하기 쉬운 원시 형태로 분해해 준다.
- 애플리케이션 유지 보수에 드는 수고가 줄고 개선사항을 적용하기 쉬워진다.
- 어려운 문제를 한 번 해결하면 그 해결책을 여러 번 사용할 수 있다.

### 좋은 추상화의 속성

- 배우기 쉽다
- 문서가 없어도 사용하기 쉽다
- 잘못 사용하기 어렵다
- 요구 조건을 충족시킬 정도록 충분히 강력하다
- 확장하기 쉽다
- 대상 사용자에게 적합하다

### 소프트웨어를 만들 때 따라오는 복잡성을 줄이는 방법

- 가변 상태 피하기
- 명령형 프로그래밍보다 함수형 프로그래밍 사용하기
- 상속보다 합성 선호하기
- 명령형 프로그래밍보다는 선언형으로 데이터 조작 표현하기

## 테스트를 자동화하라

- 광범위한 자동 테스트는 새로운 코드의 품질을 검증하고 기존 코드의 변경사항이 회귀 버그를 일으키지 않게 보호함으로써 급증한 오류율을 완화시키고 전체 오류를 낮춘다.
- 버그를 수정할 때도 문제가 해결됐는지 확인하는 테스트부터 추가하라.
- 자동화 테스트는 수작업으로 해야 할 반복 작업을 줄여준다.
- 개발자가 자신이 작업한 결과물의 품질에 대해 더 큰 책임감을 느끼게 해준다.
- 테스트가 있으면 개발자는 훨씬 더 높은 확신을 가지고 대규모 리팩터링과 같은 변화를 도모할 수 있다.
  - 테스트가 있으면 코드를 더 쉽게 변환할 수 있다.
- 자동화 테스트는 코드가 망가졌을 때 책임자를 효율적으로 식별하는 데 도움이 된다.
- 테스트는 원래 작성자가 고려한 케이스와 코드를 호출하는 방법을 알려주는 실행 가능한 문서이다.

## 기술 부채를 상환하라

- 기술 부채란 코드베이스의 상태와 품질을 개선하는 데 필요함에도 불구하고 미뤄둔, 해결하지 않은 채 방치하면서 개발 속도를 지연시킬 수 있는 모든 작업을 가리킨다.
- 기술 부채는 작게 시작해서 점직적으로 풀어가는 것이 좋다.
- 이펙티브 엔지니어라면 기술 부채가 눈에 띌 때마다 무턱대고 상환하기 보다 자신에게 주어진 제한된 시간을 레버리지가 가장 높은 부채 상환에 쓸 것이다.

  - 수정하는 데 가장 시간이 많이 드는 코드베이스에서 트래픽이 가장 높은 부분의 코드부터 살펴볼 것이다.

## 핵심 요약

- 코드를 리뷰하는 문화를 확립하라
- 좋은 소프트웨어 추상화에 투자하여 어려운 문제를 단순화하라
- 자동 테스트로 코드 품질을 향상시켜라
- 기술 부채를 관리하라

## 스터디

### K: 효과적이지 않은 일이 옳은 일이면 어떻게 해야할까?

- D: 현재의 효과보다는 미래의 효과를 생각하는 관점으로 바라보자.
- D: 빠르게 가는 유일한 방법은 제대로 가는 것이다(로버트 마틴)

### K: 코드리뷰가 품질을 올려주느냐? 버그만 없어지는거 아니냐? 버그가 없다고 속도가 빨리자냐?

- K: 코드리뷰가 무조건 좋을까? 병목이 생긴다.
- D: 코드를 누가 봐도 이해할수 있으면 장기적으로 생산성이 늘어난다.

### K: 병렬로 하는 코드리뷰가 아니라 모여서 하는 코드리뷰라면 그럴 수 있을거 같다. (공유의 목적)

- D: 돌아가는 코드가 아니라 세팅 코드라면 이해할수 있을거 같다.
- D: 핫픽스도 그럴수 있을지도

### K: 리뷰를 어떻게 하시나요?

- 코드가 아니라 비즈니스 이해가 부족해서 리뷰가 어렵다.

### 회사의 코드베이스나 깃허브 저장소에서 인기 있는 추상화를 찾아라.

- A: 일단 중앙화부터 해보자...
- D: 우아한공방을 살펴보자

### K: 레버리지 높은 테스트하자

- 손으로 많이 하는거. 빌드 하는 것?
- A: 버그나는 거, 유틸, 훅
- D: '내 코드에 대한 가드를 친다'라는 말처럼 내 코드가 나중에 침범 당하지 않게 할 수 있다. 나도 남것을 해칠 수 있고 언제부터 문제였는지 빨리 찾을 수 있다

### A: 일단 테스트를 작성해 보자. 나쁜 테스트라도 시작하는 것이 중요한거 같다.

### D: 버그가 나는 곳, 비즈니스에서 중요한 부분들, 헷갈리는 프로세스 로직.

### D: 기술부채를 점진적으로 해결해 나가자. 그러기 위해선 테스트 코드와 스토리북이 많은 도움이 된다.

- A: 리팩터링은 개발자의 권리이다. 권리를 잘 지키기 위해서는 테스트와 같은 것으로 사이드이펙트를 줄여야 한다.
- A: 일을 하면서 조금씩 테스트 코드를 추가해 나가자.

### D: deprecated 뿐만 아니라 대체제를 함께 제공하는 것이 중요한거 같다.
